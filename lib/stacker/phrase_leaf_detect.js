// Generated by CoffeeScript 1.6.3
var fn;

fn = require('../parser/js').fn;

module.exports = {
  "default": function(params, isLeaf) {
    var known, parser;
    if (params.phrase == null) {
      return isLeaf(false);
    }
    parser = fn.parser();
    known = false;
    parser.on('closure', function(heap) {
      var doneSig, rootFn;
      if (known) {
        return;
      }
      rootFn = heap[0];
      doneSig = rootFn.signature[0];
      known = true;
      return isLeaf(true);
    });
    parser.on('end', function() {
      if (known) {
        return;
      }
      return isLeaf(false);
    });
    return parser.parse(params.fn.toString());
  }
};
